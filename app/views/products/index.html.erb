<div class="container">
  <div class="row">
    <div class="col-xl-3 col-lg-4 col-md-5">
      <div class="sidebar-filter mt-50">
        <div class="top-filter-head">Product Filters</div>
          <div class="common-filter">
            <div class="head">Categories</div>
            <%= form_tag filter_products_path, method: :get do %>
              <%= select_tag "category", options_from_collection_for_select(@categories, "id", "name")%>
              <%= submit_tag "Go!", :class => 'genric-btn info-border circle arrow' %>
            <% end %>
            </div>
            <div class="common-filter">
            <div class="head">Brands</div>
            <%= form_tag filter_products_path, method: :get do %>
              <%= select_tag "brand", options_from_collection_for_select(@brands, "id", "name")%>
              <%= submit_tag "Go!", :class => 'genric-btn info-border circle arrow' %>
            <% end %>
            </div>
            <div class="common-filter">
            <div class="head">Sellers</div>
            <%= form_tag filter_products_path, method: :get do %>
              <%= select_tag "seller", options_from_collection_for_select(@sellers, "id", "name")%>
              <%= submit_tag "Go!", :class => 'genric-btn info-border circle arrow' %>
            <% end %>
            </div>
          <div class="common-filter">
            <div class="head">Price</div>
            <div class="price-range-area">
              <div id="price-range"></div>
              <div class="value-wrapper d-flex">
                <div class="price">Price:</div>
                <span>$</span>
                <div id="lower-value"></div>
                <div class="to">to</div>
                <span>$</span>
                <div id="upper-value"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- start product Area -->
<section class="owl-carousel active-product-area section_gap">
	<!-- single product slide -->
  <% @categories.each do |category| %>
    <div class="single-product-slider">
			<div class="container">
				<div class="row justify-content-center">
					<div class="col-lg-6 text-center">
						<div class="section-title">
							<h1><%= category.name %></h1>
						</div>
					</div>
				</div>
          <div class="row">
          <% @products.each do |product| %>
            <% if product.category.name == category.name %>
              <!-- single product -->
              <div class="col-lg-3 col-md-6">
                <div class="single-product">
                  <%= image_tag(product.image, class:'img-fluid', style:'width:100%') if product.image.attached?  %>
                  <div class="product-details">
                    <h6><%= product.title %></h6>
                    <div class="price">
                      <h6><%= product.price %></h6>
                    </div>
                    <div class="prd-bottom">

                      <div href="" class="social-info">
                        <span class="ti-bag"></span>
                        <p class="hover-text">add to bag</p>
                      </div>
                      <div href="" class="social-info">
                        <span class="lnr lnr-heart"></span>
                        <p class="hover-text">Wishlist</p>
                      </div>
                      <div class="social-info">
                      <span class="lnr lnr-move"></span>
                      <p class="hover-text">
                      <%= link_to 'view more', product_path(product)%></p>
                      </div>
                      <div href="" class="social-info">
                        <span class="lnr lnr-sync"></span>
                        <p class="hover-text">compare</p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            <% end %>
            <% end %>
          </div>
      </div>
	</div>
  <% end %>
</section>